<?php/*  ------------------------------------------------------------------------  Copyright (C) 2014 Bart Orriens, Albert Weerman  This library/program is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version.  This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.  You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA  ------------------------------------------------------------------------ *///FULL QUESTION GOES THROUG THIS SURVEY BEFORE OUTPUT TO THE SCREENfunction lastParse($str) {    $patterns = array('/((?i)\[IWER:(.*?)])/s');    $replace = array('<br/><div class="alert alert-info" role="alert"><b>\2</b></div>');    $str = preg_replace($patterns, $replace, $str);    return $str;}function displayInOtherLanguage() {    global $engine;    $display = $engine->getDisplayObject();    $old = getSurveyLanguage();    setSessionParameter(SESSION_PARAM_LANGUAGE, 1);    setSessionParameter(SESSION_PARAM_NEWLANGUAGE, null);    $str = "<div id='uscic-otherlanguageview' class='uscic-wrap'><div class='container'>";    $str .= '<ul class="nav nav-tabs" role="tablist">  <li class="active"><a data-toggle="tab" role="tab" href="#english">English</a></li>  <li role="presentation" class=""><a href="#">Dutch</a></li></ul>';    $vars = $engine->getDisplayed();    $display->setLastParse(false);    $display->setShowHeader(false);    $display->setShowFooter(false);    $engine->setRedoFills(true);    $str .= "<div class='tab-content'><div id='english' class='tab-pane active'><div class='outershield'><div class='shield'></div>";    $str .= $display->showQuestion($vars, $engine->getRgid(), $engine->getTemplate());    $str .= "</div></div></div>";    $str .= "</div></div>";    $str .= "<script type='text/javascript'>";    $str .= "$(document).ready(function() {                  var bottom = $('#uscic-mainpanel').position().top+$('#uscic-mainpanel').outerHeight(true);            $('#uscic-otherlanguageview').css('position', 'absolute');            $('#uscic-otherlanguageview').css('left', $('#uscic-mainpanel').position().left);            $('#uscic-otherlanguageview').css('width', $('#uscic-mainpanel').width());                        $('#uscic-otherlanguageview').css('top', bottom+50);            });";    $str .= "</script>";    setSessionParameter(SESSION_PARAM_LANGUAGE, $old);    // do this here since we don't call lastparse    $patterns = array('/((?i)\[IWER:(.*?)])/s');    $replace = array('<br/><div class="alert alert-info" role="alert"><b>\2</b></div>');    $str = preg_replace($patterns, $replace, $str);    return $str;}/* ALWAYS TO BE PRESENT */// function to store answers in more than just the _data table// the destination table should have the same format as the _data table// this function is called in variable.php, storeAnswer if presentfunction storeAnswerExtra($queryparams, $queryvalues, $bp) {}?>